
<script src="src/three.min.js"></script>
<script src="src/Projector.js"></script>
<script src="src/CanvasRenderer.js"></script>
<!-- include a-frame -->
<script src="src/aframe.js"></script>
<!-- include ar.js for aframe -->
<script src='src/aframe-ar.js'></script>
<!-- include aframe-portal-door -->
<script src='src/aframe-portal-door.js'></script>
<script src='src/threex-portal-door.js'></script>
<script>
	var OrientationParameters = {
		alpha: 0,
		beta: 0,
		gamma: 0,
		deviceMotionInterval: 0
	};
</script>
<!-- start the body of your page -->
<body style='margin : 0px; overflow: hidden;'>
 	<!-- add some info at the top of the page -->
<!--	<div style='position: fixed; top: 10px; width:100%; text-align: center; z-index: 1;'>
		<a href="https://github.com/jeromeetienne/AR.js/" target="_blank">AR.js</a> - Two-ways Portal 360 for a-frame by <a href='https://twitter.com/jerome_etienne' target='_blank'>@jerome_etienne</a>
	</div>
 -->
	<!-- Define your 3d scene and enabled ar.js -->
	<a-scene id="GlobalScene" embedded arjs='trackingMethod: best;'>

		<!-- Create a anchor to attach your augmented reality -->
		<a-marker id="AAnchor" preset='custom'  type='pattern' url='./patterns/beta_gray.patt'>
			<!-- portal 360 with an image -->
			<a-portal-door id="APortalDoor"  url='images/360_topaz.png' position='0 -0.5 1 ' scale='1 1 1' rotation='270 0 0'><a-portal-door>
		</a-marker>

<!-- 		<a-marker id="AAnchor" hit-testing-enabled='true' type='pattern' patternUrl='./patterns/skyfox_marker.patt'>
			<a-portal-door id="APortalDoor" url='images/1.png' position='0 -0.5 1 ' scale='1 1 1' rotation='270 0 0'><a-portal-door>

		</a-marker>

 -->
		<!-- Define a static camera -->
		<a-camera-static id="StaticCamera" />
	</a-scene>

<script>
          
	cameraDom = document.querySelector("#StaticCamera");
	APortalDoor = document.querySelector("#APortalDoor");
	AAnchor = document.querySelector("#AAnchor");
	GlobalScene = document.querySelector("#GlobalScene");

	CameraInfoDiv = document.createElement("div");
	CameraInfoDiv.setAttribute("id", "CameraInfoDiv");
/*
	document.body.appendChild(CameraInfoDiv);
*/
	CameraInfoDiv.style.position = "absolute";
	CameraInfoDiv.style.left = "100px";
	CameraInfoDiv.style.top = "100px";
	CameraInfoDiv.style.zIndex = "100000000";
</script>

<script>
	///////////////////////////////////////////////
	///////////////////////////////////////////////
	if (window.DeviceMotionEvent != undefined) {
		window.ondevicemotion = function(e) {
			OrientationParameters.alpha = event.rotationRate.alpha;
			OrientationParameters.beta = -event.rotationRate.beta;
			OrientationParameters.deviceMotionInterval = event.interval;

			OrientationParameters.phi = 0;
			OrientationParameters.theta = 0;
		}
	}
/*
	if (window.DeviceMotionEvent != undefined) {
			window.addEventListener("devicemotion",function(event) {
				OrientationParameters.alpha = event.rotationRate.alpha;
				OrientationParameters.beta = -event.rotationRate.beta;
				OrientationParameters.gamma = event.rotationRate.gamma;
				
				OrientationParameters.deviceMotionInterval = event.interval;
			}, true);
	}
*/			
	///////////////////////////////////////////////
	///////////////////////////////////////////////
/*
	if(window.DeviceOrientationEvent) {
		window.addEventListener("deviceorientation", function (event) {
			OrientationParameters.alpha = event.alpha;
			OrientationParameters.beta = event.beta;	
			OrientationParameters.gamma = event.gamma;			
		}, true);
	} else
	{
		window.alert("NO DEVICEORIENTATIONEVENT");
	}*/
</script>

</body>
